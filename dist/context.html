<script>function mixedSigns(e,t,n){if(2==e.length){let s,i,r=!1;for(let o in e)e[o].includes(t)&&(i=e[o],e.splice(o,1),0==o&&(r=!0));void 0!=i&&(s=i.split(t),r?(e.unshift(s[1]),e.unshift(s[0]),"&lt;"===t?n[0]=!0:n[1]=!0):(e.push(s[0]),e.push(s[1]),"&lt;"===t?n[1]=!0:n[0]=!0))}}function generateClasses(e){let t=e.split("@context"),s=[!1,!1];t.splice(0,1);for(let i of t){let e,t,r,o,l=[],c=[],a=[],u="&lt;",d="&gt;",m="&lt;=",p="&gt;=";if(e=i.substring(i.indexOf("("),i.indexOf("{")),e.includes(u)||e.includes(d)){if(e=e.substring(e.indexOf("(")+1,e.indexOf(")")),prcnt="%",obj={},e.includes(u)&&e.includes(d))return void console.error("you have mixed the greater than and less than symbol in an expression!");if(e.includes(u)){if(e.includes(m)?(t=e.split(m),mixedSigns(t,u,s)):(t=e.split(u),s=[!0,!0]),2==t.length)t[0].includes(prcnt)||!isNaN(t[0])?obj["min-"+t[1].trim()]=parseFloat(t[0]):obj["max-"+t[0].trim()]=parseFloat(t[1]);else{let e={};e["min-"+t[1].trim()]=parseFloat(t[0]),obj["max-"+t[1].trim()]=parseFloat(t[2]),c.push(e)}c.push(obj)}if(e.includes(d)){if(e.includes(p)?(t=e.split(p),mixedSigns(t,d,s)):(t=e.split(d),s=[!0,!0]),2==t.length)t[0].includes(prcnt)||!isNaN(t[0])?obj["max-"+t[1].trim()]=parseFloat(t[0]):obj["min-"+t[0].trim()]=parseFloat(t[1]);else{let e={};obj["max-"+t[1].trim()]=parseFloat(t[0]),e["min-"+t[1].trim()]=parseFloat(t[2]),c.push(e)}c.push(obj)}}else{t=e.split("and");for(let n of t){let e,t,s={};e=n.substring(n.indexOf("(")+1,n.indexOf(")")),t=e.split(":"),s[t[0]]=parseFloat(t[1]),c.push(s)}}r=i.substring(i.indexOf("{")+1,i.lastIndexOf("}")),o=r.split("}"),o.pop();for(let f of o){let e,t,n={};e=f.substring(0,f.indexOf("{")),t=f.substring(f.indexOf("{")+1),n[e.trim()]=t.trim(),a.push(n)}l.push(c),l.push(a),(s[0]||s[1])&&l.push(s),n.push(l)}generateStyles(n)}function get(e){return new Promise(function(t,n){var s=new XMLHttpRequest;s.open("GET",e),s.onload=function(){200==s.status?t(s.response):n(Error(s.statusText))},s.onerror=function(){n(Error("Network Error"))},s.send()})}function generateStyles(){let t=document.querySelector("head"),s=document.createElement("style"),i=n.length,r=".css-ctx-queries-",o="";s.type="text/css",s.id="cssCtxQueriesStyleTag";for(let l of n){i--;for(let t of l[1]){let n=Object.keys(t)[0];o+="html"===n?n+r+(e+i)+"{"+Object.values(t)[0]+"}":r+(e+i)+" "+n+"{"+Object.values(t)[0]+"}"}}document.getElementById("cssCtxQueriesStyleTag")?(document.getElementById("cssCtxQueriesStyleTag").innerHTML="",document.getElementById("cssCtxQueriesStyleTag").appendChild(document.createTextNode(o))):(s.appendChild(document.createTextNode(o)),t.appendChild(s))}function performCheck(s,i){let r=n.length;for(let o of n){let n=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,c="min-"+s,a="max-"+s;r--;for(let u of o[0])Object.keys(u)[0]==c&&(n=u[c]),Object.keys(u)[0]==a&&(l=u[a]);if(o[2]&&(o[2][0]&&++n,o[2][1]&&--l),n!=-(1/0)||l!=1/0)for(let d of o[1]){let s=(Object.keys(d)[0],"css-ctx-queries-"+(e+r));n<=i&&i<=l?t.classList.contains(s)||t.classList.add(s):(i<n||l<i)&&t.classList.contains(s)&&t.classList.remove(s)}}}const e=("customElements"in window,Math.floor(199*Math.random())+801);let t=document.querySelector("html"),n=[];class s extends HTMLElement{constructor(){super()}connectedCallback(){this.href(),this.style.display="none"}content(){let e=this.innerHTML;""!=e.trim()?generateClasses(e.trim()):console.error("Context-Styles have not been declared, please use the href attribute or write them directly in the context-style tag.")}href(){let e=this;this.hasAttribute("href")&&""!=this.getAttribute("href")?get(this.getAttribute("href")).then(function(t){let n=t.replace(/>/g,"&gt;").replace(/</g,"&lt;");generateClasses(n),e.content()},function(e){console.error("Failed!",e)}):(console.log("href empty or non existent"),e.content())}}customElements.define("context-style",s),window.addEventListener("devicelight",function(e){performCheck("devicelight",e.value==1/0?0:e.value)}),window.addEventListener("devicemotion",function(e){performCheck("devicemotion",null==e.acceleration.x?0:e.acceleration.x)});</script>