<script>function mixedSigns(e,t,n){if(2==e.length){let i,s,r=!1;for(let o in e)e[o].includes(t)&&(s=e[o],e.splice(o,1),0==o&&(r=!0));void 0!=s&&(i=s.split(t),r?(e.unshift(i[1]),e.unshift(i[0]),"&lt;"===t?n[0]=!0:n[1]=!0):(e.push(i[0]),e.push(i[1]),"&lt;"===t?n[1]=!0:n[0]=!0))}}function generateContextStyles(e,t){let i=e.split("@context"),s=!0;if(i.splice(0,1),i.length<1&&t){i=[];let n=t.split(","),r=0;for(let o of n)i[r++]=o+"{"+e+"}}";s=!1}for(let r of i){let e,i,o="&lt;",l="&gt;",c="&lt;=",a="&gt;=";if(e=r.substring(r.indexOf("("),r.indexOf("{")),i=e.split(","),s&&t){let e=t.split(","),n=[];for(let s of e)for(let r in i)n.push(i[r]+" and "+s);i=n}for(let u of i){let e,t,i=[],s=[],d=[],m=u.split("and");for(let h of m){let e,t,n=h.substring(h.indexOf("(")+1,h.indexOf(")")),i="%",r={},u={},d=[!1,!1];if(h.includes(o)||h.includes(l)){if(n.includes(o)&&n.includes(l))return void console.error("you have mixed the greater than and less than symbol in an expression!");n.includes(o)&&(n.includes(c)?(e=n.split(c),mixedSigns(e,o,d)):(e=n.split(o),d=[!0,!0]),2==e.length?e[0].includes(i)||!isNaN(e[0])?(t=e[1].trim(),u.min=parseFloat(e[0])):(u.max=parseFloat(e[1]),t=e[0].trim()):(t=e[1].trim(),u.min=parseFloat(e[0]),u.max=parseFloat(e[2])),r[t]=u,(d[0]||d[1])&&(r[t].lt_gt=d),s.push(r)),n.includes(l)&&(n.includes(a)?(e=n.split(a),mixedSigns(e,l,d)):(e=n.split(l),d=[!0,!0]),2==e.length?e[0].includes(i)||!isNaN(e[0])?(u.max=parseFloat(e[0]),t=e[1].trim()):(u.min=parseFloat(e[1]),t=e[0].trim()):(t=e[1].trim(),u.max=parseFloat(e[0]),u.min=parseFloat(e[2])),r[t]=u,(d[0]||d[1])&&(r[t].lt_gt=d),s.push(r))}else if(h.includes("min-")||h.includes("max-")){let e,n,i,o="min-",l="max-";if(e=h.substring(h.indexOf("(")+1,h.indexOf(")")),n=e.split(":"),t=n[0].trim(),t=t.replace("min-",""),t=t.replace("max-",""),i=parseFloat(n[1]),0==s.length)n[0].includes(o)&&(u.min=i),n[0].includes(l)&&(u.max=i),r[t]=u,s.push(r);else for(let c of s)Object.keys(c)[0]!=t?(n[0].includes(o)&&(u.min=i),n[0].includes(l)&&(u.max=i),r[t]=u,s.push(r)):(n[0].includes(o)&&(c[t].min=i),n[0].includes(l)&&(c[t].max=i))}else{let e=h.substring(h.indexOf("(")+1,h.indexOf(")"));r[e]={abs:1},s.push(r)}}e=r.substring(r.indexOf("{")+1,r.lastIndexOf("}")),t=e.split("}"),t.pop();for(let p of t){let e,t,n;e=p.substring(0,p.indexOf("{")),t=p.substring(p.indexOf("{")+1),n=e.split(",");for(let i of n){let e={};e[i.trim()]=t.trim(),d.push(e)}}i.push(s),i.push(d),n.push(i)}}appendStyles(n),console.log(n)}function get(e){return new Promise(function(t,n){var i=new XMLHttpRequest;i.open("GET",e),i.onload=function(){200==i.status?t(i.response):n(Error(i.statusText))},i.onerror=function(){n(Error("Network Error"))},i.send()})}function appendStyles(){let t=document.querySelector("head"),i=document.createElement("style"),s=n.length,r=".css-ctx-queries-",o="";i.type="text/css",i.id="cssCtxQueriesStyleTag";for(let l of n){s--;for(let t of l[1]){let n=Object.keys(t)[0];o+="html"===n?n+r+(e+s)+"{"+Object.values(t)[0]+"}":r+(e+s)+" "+n.replace("&gt;",">")+"{"+Object.values(t)[0]+"}"}}document.getElementById("cssCtxQueriesStyleTag")?(document.getElementById("cssCtxQueriesStyleTag").innerHTML="",document.getElementById("cssCtxQueriesStyleTag").appendChild(document.createTextNode(o))):(i.appendChild(document.createTextNode(o)),t.appendChild(i))}function updateFeatVal(e,t){Object.keys(s).forEach(function(n){n===e&&(s[n]=t)})}function performContextCheck(i,r){updateFeatVal(i,r);let o=n.length;for(let l of n){o--;let n,i="css-ctx-queries-"+(e+o),r=!0;for(let c of l[0]){let e=Number.NEGATIVE_INFINITY,t=Number.POSITIVE_INFINITY,i=Object.keys(c)[0];Object.keys(s).forEach(function(o){o===i&&(n=s[o],c[i].hasOwnProperty("abs")?n||(r=!1):(c[i].hasOwnProperty("min")&&(e=c[i].min),c[i].hasOwnProperty("max")&&(t=c[i].max),c[i].hasOwnProperty("lt_gt")&&(c[i].lt_gt[0]&&++e,c[i].lt_gt[1]&&--t),e==-(1/0)&&t==1/0||(n<e||t<n)&&(r=!1)))})}r?t.classList.contains(i)||t.classList.add(i):t.classList.contains(i)&&t.classList.remove(i)}}const e=Math.floor(200*Math.random())+701;let t=document.querySelector("html"),n=[];class i extends HTMLElement{constructor(){super()}connectedCallback(){this.href(),this.style.display="none"}content(e){let t=this.innerHTML;""!=t.trim()?generateContextStyles(t.trim(),e):console.error("Context-Styles have not been declared, please use the href attribute or write them directly in the context-style tag.")}href(){let e=!1;this.hasAttribute("context")&&""!=this.getAttribute("context")&&(e=this.getAttribute("context").replace(/>/g,"&gt;").replace(/</g,"&lt;")),this.hasAttribute("href")&&""!=this.getAttribute("href")?get(this.getAttribute("href")).then(t=>{let n=t.replace(/>/g,"&gt;").replace(/</g,"&lt;");generateContextStyles(n,e),this.content(e)},e=>{console.error("Failed!",e)}):(console.log("href empty or non existent"),this.content(e))}}customElements.define("context-style",i);let s={devicelight:null,devicemotion:null,deviceproximity:null,touch:null};window.addEventListener("devicelight",function(e){let t=e.value/10;performContextCheck("devicelight",Math.round(t))});let r=0;window.addEventListener("devicemotion",function(e){let t=Math.round(Math.sqrt(e.acceleration.y*e.acceleration.y+e.acceleration.x*e.acceleration.x));(t>r||0==t)&&(r=t,performContextCheck("devicemotion",t))}),window.addEventListener("deviceproximity",function(e){let t=(e.value-e.min)/(e.max-e.min)*100;performContextCheck("deviceproximity",t)}),performContextCheck("touch",!!("ontouchstart"in window||navigator.maxTouchPoints));</script>