function mixedSigns(e,t,n){if(2==e.length){let i,s,r=!1;for(let o in e)e[o].includes(t)&&(s=e[o],e.splice(o,1),0==o&&(r=!0));void 0!=s&&(i=s.split(t),r?(e.unshift(i[1]),e.unshift(i[0]),"&lt;"===t?n[0]=!0:n[1]=!0):(e.push(i[0]),e.push(i[1]),"&lt;"===t?n[1]=!0:n[0]=!0))}}function generateContextStyles(e){let t=e.split("@context"),i=[!1,!1];t.splice(0,1);for(let s of t){let e,t,r="&lt;",o="&gt;",l="&lt;=",c="&gt;=";e=s.substring(s.indexOf("("),s.indexOf("{")),t=e.split(",");for(let a of t){let e,t,u=[],d=[],m=[],p=a.split("and");for(let f of p){let e,t=f.substring(f.indexOf("(")+1,f.indexOf(")")),n="%",s={};if(f.includes(r)||f.includes(o)){if(t.includes(r)&&t.includes(o))return void console.error("you have mixed the greater than and less than symbol in an expression!");if(t.includes(r)){if(t.includes(l)?(e=t.split(l),mixedSigns(e,r,i)):(e=t.split(r),i=[!0,!0]),2==e.length)e[0].includes(n)||!isNaN(e[0])?s["min-"+e[1].trim()]=parseFloat(e[0]):s["max-"+e[0].trim()]=parseFloat(e[1]);else{let t={};t["min-"+e[1].trim()]=parseFloat(e[0]),s["max-"+e[1].trim()]=parseFloat(e[2]),d.push(t)}d.push(s)}if(t.includes(o)){if(t.includes(c)?(e=t.split(c),mixedSigns(e,o,i)):(e=t.split(o),i=[!0,!0]),2==e.length)e[0].includes(n)||!isNaN(e[0])?s["max-"+e[1].trim()]=parseFloat(e[0]):s["min-"+e[0].trim()]=parseFloat(e[1]);else{let t={};s["max-"+e[1].trim()]=parseFloat(e[0]),t["min-"+e[1].trim()]=parseFloat(e[2]),d.push(t)}d.push(s)}}else{let e,t,n={};e=f.substring(f.indexOf("(")+1,f.indexOf(")")),console.log(e),t=e.split(":"),n[t[0].trim()]=parseFloat(t[1]),d.push(n)}}e=s.substring(s.indexOf("{")+1,s.lastIndexOf("}")),t=e.split("}"),t.pop();for(let h of t){let e,t,n;e=h.substring(0,h.indexOf("{")),t=h.substring(h.indexOf("{")+1),n=e.split(",");for(let i of n){let e={};e[i.trim()]=t.trim(),m.push(e)}}u.push(d),u.push(m),(i[0]||i[1])&&u.push(i),n.push(u)}}appendStyles(n)}function get(e){return new Promise(function(t,n){var i=new XMLHttpRequest;i.open("GET",e),i.onload=function(){200==i.status?t(i.response):n(Error(i.statusText))},i.onerror=function(){n(Error("Network Error"))},i.send()})}function appendStyles(){let t=document.querySelector("head"),i=document.createElement("style"),s=n.length,r=".css-ctx-queries-",o="";i.type="text/css",i.id="cssCtxQueriesStyleTag";for(let l of n){s--;for(let t of l[1]){let n=Object.keys(t)[0];o+="html"===n?n+r+(e+s)+"{"+Object.values(t)[0]+"}":r+(e+s)+" "+n+"{"+Object.values(t)[0]+"}"}}document.getElementById("cssCtxQueriesStyleTag")?(document.getElementById("cssCtxQueriesStyleTag").innerHTML="",document.getElementById("cssCtxQueriesStyleTag").appendChild(document.createTextNode(o))):(i.appendChild(document.createTextNode(o)),t.appendChild(i))}function performContextCheck(i,s){let r=n.length;for(let o of n){let n=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,c="min-"+i,a="max-"+i;r--;for(let u of o[0])Object.keys(u)[0]==c&&(n=u[c]),Object.keys(u)[0]==a&&(l=u[a]);if(o[2]&&(o[2][0]&&++n,o[2][1]&&--l),n!=-(1/0)||l!=1/0)for(let d of o[1]){let i=(Object.keys(d)[0],"css-ctx-queries-"+(e+r));n<=s&&s<=l?t.classList.contains(i)||t.classList.add(i):(s<n||l<s)&&t.classList.contains(i)&&t.classList.remove(i)}}}const e=Math.floor(200*Math.random())+701;let t=document.querySelector("html"),n=[];class i extends HTMLElement{constructor(){super()}connectedCallback(){this.href(),this.style.display="none"}content(){let e=this.innerHTML;""!=e.trim()?generateContextStyles(e.trim()):console.error("Context-Styles have not been declared, please use the href attribute or write them directly in the context-style tag.")}href(){let e=this;this.hasAttribute("href")&&""!=this.getAttribute("href")?get(this.getAttribute("href")).then(function(t){let n=t.replace(/>/g,"&gt;").replace(/</g,"&lt;");generateContextStyles(n),e.content()},function(e){console.error("Failed!",e)}):(console.log("href empty or non existent"),e.content())}}customElements.define("context-style",i),window.addEventListener("devicelight",function(e){let t=e.value/10;performContextCheck("devicelight",Math.round(t))});let s=0;window.addEventListener("devicemotion",function(e){let t=Math.round(Math.sqrt(e.acceleration.y*e.acceleration.y+e.acceleration.x*e.acceleration.x));(t>s||0==t)&&(s=t,performContextCheck("devicemotion",t))}),window.addEventListener("deviceproximity",function(e){let t=(e.value-e.min)/(e.max-e.min)*100;performContextCheck("deviceproximity",t)});