function mixedSigns(e,t,n){if(2==e.length){let i,s,r=!1;for(let l in e)e[l].includes(t)&&(s=e[l],e.splice(l,1),0==l&&(r=!0));void 0!=s&&(i=s.split(t),r?(e.unshift(i[1]),e.unshift(i[0]),"&lt;"===t?n.left=!0:n.right=!0):(e.push(i[0]),e.push(i[1]),"&lt;"===t?n.right=!0:n.left=!0))}}function generateContextStyles(e,t){let n=e.split(/\s*@context\s*/),s=/\s*,\s*|\s*or\s*/i;for(let r of n)if(""!=r){let e,n=r.substring(r.indexOf("("),r.indexOf("{")),l="&lt;",a="&gt;",o="&lt;=",u="&gt;=";if(n.includes("(")&&n.includes(")")){if(e=n.split(s),t){let n=t.split(s),i=[];for(let r of n)for(let l in e)i.push(e[l]+" and "+r);e=i}}else e=t.split(s);for(let c of e){let e,t,s={contexts:[],sheets:[]},d=[],f=[],m=c.split(/\s*and\s*/i);for(let p of m){let e,t,n=p.substring(p.indexOf("(")+1,p.indexOf(")")),i="%",s={},r={left:!1,right:!1};if(p.includes(l)||p.includes(a)){if(n.includes(l)&&n.includes(a))return void console.error("you have mixed the greater than and less than symbol in an expression!");n.includes(l)&&(n.includes(o)?(e=n.split(o),mixedSigns(e,l,r)):(e=n.split(l),r={left:!0,right:!0}),2==e.length?e[0].includes(i)||!isNaN(e[0])?(s.min=parseFloat(e[0]),s.feature=e[1].trim()):(s.max=parseFloat(e[1]),s.feature=e[0].trim()):(s.feature=e[1].trim(),s.min=parseFloat(e[0]),s.max=parseFloat(e[2])),(r.left||r.right)&&(s.lt_gt=r),d.push(s)),n.includes(a)&&(n.includes(u)?(e=n.split(u),mixedSigns(e,a,r)):(e=n.split(a),r={left:!0,right:!0}),2==e.length?e[0].includes(i)||!isNaN(e[0])?(s.max=parseFloat(e[0]),s.feature=e[1].trim()):(s.min=parseFloat(e[1]),s.feature=e[0].trim()):(s.feature=e[1].trim(),s.max=parseFloat(e[0]),s.min=parseFloat(e[2])),(r.left||r.right)&&(s.lt_gt=r),d.push(s))}else if(p.includes(":")){let e,n,i;if(e=p.substring(p.indexOf("(")+1,p.indexOf(")")),n=e.split(/\s*:\s*/),t=n[0].trim(),s.feature=t,i=parseFloat(n[1]),t.includes("min-")||t.includes("max-"))if(t=t.replace("min-",""),t=t.replace("max-",""),s.feature=t,0==d.length)n[0].includes("min-")&&(s.min=i),n[0].includes("max-")&&(s.max=i),d.push(s);else for(let r of d)r.feature!=s.feature?(n[0].includes("min-")&&(s.min=i),n[0].includes("max-")&&(s.max=i),d.push(s)):(n[0].includes("min-")&&(r.min=i),n[0].includes("max-")&&(r.max=i));else s.abs=i,d.push(s)}else{let e=p.substring(p.indexOf("(")+1,p.indexOf(")"));e&&(s.feature=e,s.abs=!0,d.push(s))}}e=n.includes("(")&&n.includes(")")?r.substring(r.indexOf("{")+1,r.lastIndexOf("}")):r,t=e.split(/\s*}\s*/);for(let h of t){let e,t,n;e=h.substring(0,h.indexOf("{")),t=h.substring(h.indexOf("{")+1),n=e.split(/\s*,\s*/);for(let i of n){let e={element:i.trim(),properties:t.trim()};""==e.element&&""===e.properties||f.push(e)}}s.contexts=d,s.sheets=f,i.push(s)}}appendStyles(i),console.log(i)}function get(e){return new Promise(function(t,n){var i=new XMLHttpRequest;i.open("GET",e),i.onload=function(){200==i.status?t(i.response):n(Error(i.statusText))},i.onerror=function(){n(Error("Network Error"))},i.send()})}function appendStyles(){let e=document.querySelector("head"),n=document.createElement("style"),s=i.length,r=".css-ctx-queries-",l="";n.type="text/css",n.id="cssCtxQueriesStyleTag";for(let a of i){s--;for(let e of a.sheets){let n=e.element;l+="html"===n?n+r+(t+s)+"{"+e.properties+"}":r+(t+s)+" "+n.replace("&gt;",">")+"{"+e.properties+"}"}}document.getElementById("cssCtxQueriesStyleTag")?(document.getElementById("cssCtxQueriesStyleTag").innerHTML="",document.getElementById("cssCtxQueriesStyleTag").appendChild(document.createTextNode(l))):(n.appendChild(document.createTextNode(l)),e.appendChild(n))}function updateFeatVal(t,n){for(let i of e)i.name==t&&(i.value=n)}function performContextCheck(s,r){updateFeatVal(s,r);let l=i.length;for(let a of i){l--;let i="css-ctx-queries-"+(t+l),s=!0;for(let r of a.contexts){let t=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY;for(let i of e)i.name===r.feature&&(i.supported?r.hasOwnProperty("abs")?Number.isInteger(r.abs)?i.value!=r.abs&&(s=!1):i.value||(s=!1):(r.hasOwnProperty("min")&&(t=r.min),r.hasOwnProperty("max")&&(n=r.max),r.hasOwnProperty("lt_gt")&&(r.lt_gt.left&&++t,r.lt_gt.right&&--n),t==-(1/0)&&n==1/0||(i.value<t||n<i.value)&&(s=!1)):s=!1)}s?n.classList.contains(i)||n.classList.add(i):n.classList.contains(i)&&n.classList.remove(i)}}let e=[{name:"devicelight",value:null,callback:null},{name:"devicemotion",value:null,callback:null},{name:"deviceproximity",value:null,callback:null},{name:"touch",value:null,callback:function(){return!!("ontouchstart"in window||navigator.maxTouchPoints)}}];!function(){for(feature of e)null==feature.callback?"on"+feature.name in window?feature.supported=!0:feature.supported=!1:feature.supported=feature.callback();console.log(e)}();const t=Math.floor(200*Math.random())+701;let n=document.querySelector("html"),i=[];class s extends HTMLElement{constructor(){super()}connectedCallback(){this.href(),this.style.display="none"}content(e){let t=this.innerHTML;""!=t.trim()?generateContextStyles(t.trim(),e):console.error("Context-Styles have not been declared, please use the href attribute or write them directly in the context-style tag.")}href(){let e=!1;this.hasAttribute("context")&&""!=this.getAttribute("context")&&(e=this.getAttribute("context").replace(/>/g,"&gt;").replace(/</g,"&lt;")),this.hasAttribute("href")&&""!=this.getAttribute("href")?get(this.getAttribute("href")).then(t=>{let n=t.replace(/>/g,"&gt;").replace(/</g,"&lt;");generateContextStyles(n,e),this.content(e)},e=>{console.error("Failed!",e)}):(console.log("href empty or non existent"),this.content(e))}}customElements.define("context-style",s),window.addEventListener("devicelight",function(e){let t=e.value/10;performContextCheck("devicelight",Math.round(t))});let r=0;window.addEventListener("devicemotion",function(e){let t=Math.round(Math.sqrt(e.acceleration.y*e.acceleration.y+e.acceleration.x*e.acceleration.x));(t>r||0==t)&&(r=t,performContextCheck("devicemotion",t))}),window.addEventListener("deviceproximity",function(e){let t=(e.value-e.min)/(e.max-e.min)*100;performContextCheck("deviceproximity",t)}),performContextCheck("touch",!!("ontouchstart"in window||navigator.maxTouchPoints));